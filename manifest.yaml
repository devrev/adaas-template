version: "2"

# TODO: Replace with the name of your Airdrop connector
name: Template Connector
# TODO: Replace with the description for your Airdrop connector
description: Template Connector for importing dummy data into DevRev

service_account:
  # TODO: Replace with the display name of Airdrop bot
  display_name: Airdrop Template Bot

functions:
  - name: extraction
    description: Extraction function for the template snap-in
  - name: loading
    description: Loading function for the template snap-in
  - name: install_initial_domain_mapping
    description: Create blueprint and install initial domain mapping

keyring_types:
  # TODO: Replace with your keyring configuration
  - id: example-connection
    name: Example Connection
    description: Example Connection
    kind: "Secret"
    is_subdomain: true
    external_system_name: "Example"
    secret_config:
      secret_transform: ".token"
      fields:
        - id: token
          name: Token
          description: Example API token
      token_verification:
        url: https://app.devrev.ai/favicon.ico
        method: GET

imports:
  # TODO: Replace with the slug, display name, and description of your Airdrop connector
  - slug: airdrop-template-snap-in
    display_name: Template Connector
    description: Template Connector for importing data into DevRev
    # TODO: Replace with the id of keyring type you defined above
    allowed_connection_types:
      - example-connection

    extractor_function: extraction
    loader_function: loading

hooks:
  - type: activate
    function: install_initial_domain_mapping
